
## Organ Purchase System
This code implements an organ purchase system that allows users to purchase organs based on their available cash. The code includes a set of classes and functions that handle the processing of organ orders and generate the corresponding output.

## Table of Contents
- Organ Classes
- Organ Factory
- Processing an Order
- Processing Orders from a File
- Running the Code
- Testing
- Organ Classes
The code defines three classes that represent different organ types: Heart, Liver, and Lung. Each organ class extends the base class Organ and has a type and price property. The Organ class provides a purchase method that calculates the maximum quantity of a specific organ that can be purchased given the available cash.

## Organ Factory
The OrganFactory class is responsible for creating instances of the organ classes based on the provided organ type. It includes a static method createOrgan that takes the organ type and price as parameters and returns an instance of the corresponding organ class. If an invalid organ type is provided, an error is thrown.

## Processing an Order
The processOrder function takes an order object as input and performs the following steps:

- Extracts the organ, cash, price, and bonus_ratio properties from the order object.
- Uses the OrganFactory to create an instance of the specified organ type.
- Calls the purchase method on the organ instance to determine the maximum quantity that can be purchased based on the available cash.
- Calculates the bonus quantities based on the purchased quantity and bonus ratio, considering the specific organ type.
- Generates an output string that includes the purchased organ and its quantity, as well as any bonus organs and their quantities.
- Returns the output string.
- If an invalid organ type is provided, the function returns the string "invalid organ type".

## Processing Orders from a File
The processOrdersFromFile function takes a file path as input and reads orders from a CSV file. It performs the following steps:

- Initializes an empty array orders to store the orders.
- Creates a read stream for the specified file path.
- Handles any errors that occur during file reading.
- Parses the CSV data and pushes each order to the orders array.
- Once the file reading is complete, processes each order using - the processOrder function and generates the corresponding output string.
- Returns the output string.
The code uses the csv-parser library to parse the CSV file. If the file is not found, the function returns the string "File not found".

## Running the Code
To run the code, follow these steps:

 - Make sure you have Node.js installed on your system.
 - Open a terminal or command prompt.
- Navigate to the directory where the code files are located.
- Run the following command: node index.js
- The code will process the orders from the provided CSV file and display the output on the console.



**************************************************************************


# Organ Purchase System - Testing
This code includes tests implemented using the Mocha testing framework. The tests verify the correctness of the organ purchase system and its associated functions. To run the tests, follow the instructions below.

## Running the Tests
To run the tests for the code, follow these steps:

- Make sure you have Node.js installed on your system.
- Open a terminal or command prompt.
- Navigate to the directory where the code files and test files are located.
- Run the following command: npm test
The tests will be executed, and the results will be displayed on the console.
The tests cover different scenarios to ensure the expected behavior of the code. Here is a summary of the test cases:

## Organ Class Tests
Checks whether the purchase method correctly calculates the quantity of organs that can be purchased based on the available cash.

## OrganFactory Class Tests
OrganFactory.createOrgan tests: Verifies that the createOrgan method creates the expected organ instances with the correct properties.

## processOrdersFromFile Function Tests
Validates that the function returns the string "File not found" when an incorrect file path is provided.
## processOrder Function Tests
Verify the correctness of the output generated by the processOrder function for various order scenarios, including valid and invalid organ types, different cash amounts, prices, and bonus ratios.
The tests use the assert module from the Node.js standard library to check the expected output against the actual output.

Please note that before running the tests, ensure that the necessary testing framework and dependencies are set up as specified in the project's package.json file.
Additional Information
File Structure
Here is an overview of the file structure for the code:

bash
Copy code
- index.js             # Main code file
- test.js              # Test file
- package.json         # Configuration file for npm
- README.md            # Documentation file (you are currently reading it)
- orders_example.csv   # Example CSV file for processing orders

## Usage
To use the code and test files, follow these steps:

- Make sure you have Node.js installed on your system.
- Download or clone the code files to your local machine.
- Open a terminal or command prompt.
- Navigate to the directory where the code files are located.
- Run the command node index.js to execute the code and process orders from the orders_example.csv file.
- Run the command npm test to execute the tests and verify the correctness of the code.
## Dependencies
The code has the following dependencies, which are automatically installed when running npm install:

### fs module: 
A Node.js built-in module for working with the file system.
### csv-parser package: 
A CSV parsing library for Node.js.
### CSV File Format
The code expects the input orders to be in a CSV (Comma-Separated Values) file format. Each order should be represented as a row in the file, with the following column headers:

### organ: 
The type of organ being ordered (heart, liver, or lung).
### cash: 
The amount of cash available for the purchase.
### price: 
The price of a single unit of the organ.
### bonus_ratio:
The bonus ratio for the organ (used to calculate the bonus quantities of other organs).
### Ensure that the CSV file is properly formatted and contains valid data for the code to process the orders correctly.

## Test Execution
The tests are implemented using the Mocha testing framework. When you run npm test, Mocha will execute the tests defined in the test.js file and display the test results in the console.

#### Make sure you have the necessary testing framework and dependencies set up as specified in the project's package.json file before running the tests.


#### That's all the information you need to know to use and test the code effectively. If you have any further questions, feel free to ask!